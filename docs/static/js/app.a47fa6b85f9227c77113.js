webpackJsonp([0],[,,,function(t,e,a){"use strict";var n=a(13),s=(a.n(n),a(15));a.n(s);e.a={name:"app",created:function(){this.$emit("refresh")},data:function(){return{mode:"news"}},methods:{refresh:function(t){this.mode=t,this.$router.push({path:"/"+t,props:{mode:t}}),this.$emit("refresh",t)}}}},function(t,e,a){"use strict";var n=a(5);e.a={name:"news",props:["mode"],components:{story:n.a},data:function(){return{stories:{},pageNumber:1,busy:!0,loadmoreText:"Loading"}},created:function(){var t=this;fetch("https://api.hnpwa.com/v0/"+this.mode+"/1.json",{method:"get"}).then(function(t){return t.json()}).then(function(e){t.stories=e,t.busy=!1,t.loadmoreText="Load More"}).catch(function(t){console.log(t)}),window.onfocus=function(){fetch("https://api.hnpwa.com/v0/"+t.mode+"/1.json",{method:"get"}).then(function(t){return t.json()}).then(function(e){console.log(e),t.stories=e,t.busy=!1,t.loadmoreText="Load More"}).catch(function(t){console.log(t)})},this.$parent.$on("refresh",function(e){t.busy=!0,t.loadmoreText="Loading",console.log("refreshing",t.mode,e),fetch("https://api.hnpwa.com/v0/"+e+"/1.json",{method:"get"}).then(function(t){return t.json()}).then(function(e){t.stories=e,t.busy=!1,t.loadmoreText="Load More"}).catch(function(t){console.log(t)})})},methods:{loadMore:function(){var t=this;!1===this.busy&&(this.busy=!0,this.pageNumber++,this.loadmoreText="Loading",fetch("https://api.hnpwa.com/v0/"+this.mode+"/"+this.pageNumber+".json",{method:"get"}).then(function(t){return t.json()}).then(function(e){e.map(function(e){return t.stories.push(e)}),t.busy=!1,t.loadmoreText="Load More"}).catch(function(t){console.log(t)}))}}}},function(t,e,a){"use strict";var n=a(6),s=a(20),o=a(0),r=o(n.a,s.a,!1,null,null,null);e.a=r.exports},function(t,e,a){"use strict";e.a={name:"story",props:["data"],data:function(){return{}},methods:{fetchURL:function(t){return"ask"==t.type?"/#/ask/"+t.id:t.url},fetchTarget:function(t){return"ask"==t.type?"":"_blank"}}}},function(t,e,a){"use strict";var n=a(5);e.a={name:"news",props:["mode"],components:{story:n.a},data:function(){return{data:{},pageNumber:1,busy:!0,loadmoreText:"Loading"}},created:function(){var t=this;fetch("https://api.hnpwa.com/v0/item/"+this.$route.params.id+".json",{method:"get"}).then(function(t){return t.json()}).then(function(e){t.data=e,t.busy=!1,t.loadmoreText="Load More"}).catch(function(t){console.log(t)})},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),s=a(12),o=a(17),r=a(24);n.a.use(r),n.a.config.productionTip=!1,new n.a({el:"#app",router:o.a,template:"<App/>",components:{App:s.a}})},,,,function(t,e,a){"use strict";var n=a(3),s=a(16),o=a(0),r=o(n.a,s.a,!1,null,null,null);e.a=r.exports},function(t,e){},,function(t,e){},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand",attrs:{id:"nav"}},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("SR HNPWA")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{class:{active:"news"==t.mode}},[a("a",{staticClass:"nav-link",on:{click:function(e){t.refresh("news")}}},[t._v("News")])]),t._v(" "),a("li",{staticClass:"nav-item",class:{active:"newest"==t.mode}},[a("a",{staticClass:"nav-link",on:{click:function(e){t.refresh("newest")}}},[t._v("Newest")])]),t._v(" "),a("li",{staticClass:"nav-item",class:{active:"ask"==t.mode}},[a("a",{staticClass:"nav-link",on:{click:function(e){t.refresh("ask")}}},[t._v("Ask")])]),t._v(" "),a("li",{staticClass:"nav-item",class:{active:"show"==t.mode}},[a("a",{staticClass:"nav-link",on:{click:function(e){t.refresh("show")}}},[t._v("Show")])]),t._v(" "),a("li",{staticClass:"nav-item",class:{active:"jobs"==t.mode}},[a("a",{staticClass:"nav-link",on:{click:function(e){t.refresh("jobs")}}},[t._v("Jobs")])])])])]),t._v(" "),a("main",{attrs:{id:"main"}},[a("router-view")],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],o={render:n,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var n=a(2),s=a(18),o=a(19),r=a(22);n.a.use(s.a),e.a=new s.a({routes:[{path:"/news",name:"News",component:o.a,props:{mode:"news"}},{path:"/newest",name:"Newest",component:o.a,props:{mode:"newest"}},{path:"/ask",name:"Ask",component:o.a,props:{mode:"ask"}},{path:"/ask/:id",name:"Ask Page",component:r.a,props:{mode:"ask"}},{path:"/show",name:"Show",component:o.a,props:{mode:"show"}},{path:"/jobs",name:"Jobs",component:o.a,props:{mode:"jobs"}},{path:"/",redirect:"/news"}]})},,function(t,e,a){"use strict";var n=a(4),s=a(21),o=a(0),r=o(n.a,s.a,!1,null,null,null);e.a=r.exports},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:" story",attrs:{href:t.fetchURL(t.data),target:t.fetchTarget(t.data)}},[a("h2",[t._v(t._s(t.data.title)+" "),t.data.domain?a("span",{staticClass:"domain"},[t._v("("+t._s(t.data.domain)+")")]):t._e()]),t._v(" "),a("p",[t._v("By: "+t._s(t.data.user)+" "+t._s(t.data.time_ago))])])},s=[],o={render:n,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page",attrs:{id:"news"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"container articles",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[t._l(t.stories,function(t){return a("story",{key:t.id,attrs:{data:t}})}),t._v(" "),a("button",{staticClass:"loadMoreBtn",attrs:{type:"button",name:"loadMore"},on:{click:t.loadMore}},[t._v(t._s(t.loadmoreText))])],2)])},s=[],o={render:n,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var n=a(7),s=a(23),o=a(0),r=o(n.a,s.a,!1,null,null,null);e.a=r.exports},function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page",attrs:{id:"ask"}},[a("div",{staticClass:"contianer"},[a("h1",[t._v(t._s(this.data.title))]),t._v(" "),a("h2",[t._v("By: "+t._s(this.data.user)+" "+t._s(this.data.time_ago)+" ")]),t._v(" "),a("p",{domProps:{innerHTML:t._s(this.data.content)}})])])},s=[],o={render:n,staticRenderFns:s};e.a=o}],[8]);
//# sourceMappingURL=app.a47fa6b85f9227c77113.js.map